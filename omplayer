-- üëë HUG PLAYER GUI - by BORY
-- HACKBORY V4 - PREMIUM Style üí´

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "HugGuiBory"

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 320, 0, 170)
MainFrame.Position = UDim2.new(0.5, -160, 0.5, -85)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 20)

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Title.BorderSizePixel = 0
Title.Text = "ü§ó HUG PLAYER GUI"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.TextSize = 16
Title.Font = Enum.Font.SourceSansBold

local CloseBtn = Instance.new("TextButton", MainFrame)
CloseBtn.Size = UDim2.new(0, 30, 0, 30)
CloseBtn.Position = UDim2.new(1, -30, 0, 0)
CloseBtn.Text = "X"
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.BorderSizePixel = 0
CloseBtn.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

local MinBtn = Instance.new("TextButton", MainFrame)
MinBtn.Size = UDim2.new(0, 50, 0, 30)
MinBtn.Position = UDim2.new(1, -80, 0, 0)
MinBtn.Text = "-"
MinBtn.BackgroundColor3 = Color3.fromRGB(80,80,80)
MinBtn.TextColor3 = Color3.new(1,1,1)
MinBtn.BorderSizePixel = 0

local minimized = false
MinBtn.MouseButton1Click:Connect(function()
	minimized = not minimized
	for _,v in pairs(MainFrame:GetChildren()) do
		if v ~= Title and v ~= MinBtn and v ~= CloseBtn then
			v.Visible = not minimized
		end
	end
	MainFrame.Size = minimized and UDim2.new(0,320,0,30) or UDim2.new(0,320,0,170)
end)

local Box = Instance.new("TextBox", MainFrame)
Box.Size = UDim2.new(0.9,0,0,35)
Box.Position = UDim2.new(0.05,0,0.3,0)
Box.PlaceholderText = "Nh·∫≠p t√™n ng∆∞·ªùi c·∫ßn √¥m..."
Box.Text = ""
Box.BackgroundColor3 = Color3.fromRGB(45,45,45)
Box.TextColor3 = Color3.new(1,1,1)
Box.TextSize = 14
Box.BorderSizePixel = 0

local Btn = Instance.new("TextButton", MainFrame)
Btn.Size = UDim2.new(0.9,0,0,35)
Btn.Position = UDim2.new(0.05,0,0.65,0)
Btn.BackgroundColor3 = Color3.fromRGB(70,130,180)
Btn.Text = "ü§ç B·∫Øt ƒë·∫ßu √¥m"
Btn.TextColor3 = Color3.new(1,1,1)
Btn.TextSize = 15
Btn.BorderSizePixel = 0

local hugging = false

Btn.MouseButton1Click:Connect(function()
	if hugging then
		hugging = false
		Btn.Text = "ü§ç B·∫Øt ƒë·∫ßu √¥m"
		return
	end

	local name = Box.Text:lower()
	local target
	for _,p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and (p.Name:lower():find(name) or p.DisplayName:lower():find(name)) then
			target = p
			break
		end
	end

	if not target or not target.Character then
		Box.Text = "‚ùå Kh√¥ng t√¨m th·∫•y player!"
		return
	end

	hugging = true
	Btn.Text = "üíî D·ª´ng √¥m"

	local char = LocalPlayer.Character
	local hum = char and char:FindFirstChildOfClass("Humanoid")

	local anim = Instance.new("Animation")
	anim.AnimationId = "rbxassetid://182789003" -- animation √¥m
	local playAnim = hum:LoadAnimation(anim)
	playAnim.Looped = true
	playAnim:Play()

	while hugging and target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") do
		local hrp = target.Character.HumanoidRootPart
		local myhrp = char and char:FindFirstChild("HumanoidRootPart")
		if not (hrp and myhrp) then break end

		-- V·ªã tr√≠ ƒë·ª©ng sau l∆∞ng ng∆∞·ªùi b·ªã √¥m
		local offset = hrp.CFrame * CFrame.new(0, 0, 1.2)
		myhrp.CFrame = CFrame.new(offset.Position) * CFrame.Angles(0, math.atan2(-hrp.LookVector.X, -hrp.LookVector.Z), 0)
		task.wait(0.1)
	end

	hugging = false
	Btn.Text = "ü§ç B·∫Øt ƒë·∫ßu √¥m"
	playAnim:Stop()
end)
